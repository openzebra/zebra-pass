import { Theme } from "../theme.slint";

export component ZButton {
  private property <int> start : 0;
  in property <bool> hovered: true;
  in property <string> text;
  in-out property <color> background;
  in-out property <color> color;
  in-out property <color> color-hover : background;
  in-out property <length> font-size : Theme.font-size-medium;
  in-out property<bool> enabled : true;
  in property <color> border-color : background;
  in property <color> border-color-hover : border-color;
  in property <bool> loading : false;

  callback clicked;

  HorizontalLayout {
    visible: loading;
    padding-left: 5pt;
    padding-right: 5pt;
    padding-top: 1pt;
    padding-bottom: 1pt;
    for _ in [0, 1, 2, 3, 4]: Path {
      commands: "M26.0877 0.324531L61.5 0.325478L34.7086 106.017L0.5 106.017L26.0877 0.324531Z";
      fill: red;
    }
  }
  touch := TouchArea {
    mouse-cursor: default;
    clicked => {
      if (root.enabled) {
        clicked();
      }
    }
  }
  rect := Rectangle {
    background: root.background;

    border-color: root.border-color;
    border-width: 1pt;
    border-radius: Theme.radius-regular;

    preferred-width: 360pt;
    preferred-height: 56pt;
  }
  label := Text {
    color: root.color;
    text: root.text;
    font-size: root.font-size;
    font-weight: Theme.font-weight-bold;
    horizontal-alignment: center;
    opacity: 1;
  }

  states [
    active when root.enabled && hovered && touch.has-hover: {
        label.color: root.color-hover;
        rect.background: Colors.transparent;
        rect.border-color: root.border-color-hover;
        touch.mouse-cursor: pointer;
        in {
          animate rect.background { duration: 150ms; }
        }
    }
    disabled when !root.enabled : {
      label.opacity: 0.2;
      rect.background: root.background.darker(70%);
      rect.border-color: root.border-color.darker(70%);
      touch.mouse-cursor: default;

      out {
          animate * { duration: 300ms; }
      }
    }
  ]
}